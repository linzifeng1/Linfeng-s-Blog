<script setup lang="ts">
import { ref } from 'vue'
import LinBackground from '@/components/MyDesignComponents/Lin-Background.vue'
import LinTag from '@/components/MyDesignComponents/Lin-Tag.vue'

// æ€è€ƒç±»å‹
interface Thought {
  id: number
  title: string
  content: string
  category: 'philosophy' | 'technology' | 'life' | 'design' | 'future'
  date: string
  readTime: number
  tags: string[]
  mood: 'deep' | 'curious' | 'inspired' | 'contemplative'
}

// æ¨¡æ‹Ÿæ€è€ƒæ•°æ®
const thoughts = ref<Thought[]>([
  {
    id: 1,
    title: 'å…³äºä»£ç çš„å“²å­¦æ€è€ƒ',
    content: 'ä»£ç ä¸ä»…ä»…æ˜¯æŒ‡ä»¤çš„é›†åˆï¼Œå®ƒæ˜¯æ€æƒ³çš„å…·è±¡åŒ–è¡¨è¾¾ã€‚æ¯ä¸€è¡Œä»£ç éƒ½æ‰¿è½½ç€å¼€å‘è€…çš„é€»è¾‘æ€ç»´å’Œåˆ›é€ åŠ›ã€‚å½“æˆ‘ä»¬ç¼–å†™ä»£ç æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨æ„å»ºä¸€ä¸ªæ•°å­—ä¸–ç•Œçš„è§„åˆ™ä½“ç³»...',
    category: 'philosophy',
    date: '2024-01-15',
    readTime: 5,
    tags: ['ç¼–ç¨‹å“²å­¦', 'æ€ç»´æ¨¡å¼', 'åˆ›é€ åŠ›'],
    mood: 'deep'
  },
  {
    id: 2,
    title: 'äººå·¥æ™ºèƒ½æ—¶ä»£çš„æ€è€ƒ',
    content: 'AIçš„å¿«é€Ÿå‘å±•è®©æˆ‘ä»¬é‡æ–°å®¡è§†äººç±»çš„ä»·å€¼ã€‚åœ¨æœºå™¨èƒ½å¤Ÿå®Œæˆè¶Šæ¥è¶Šå¤šä»»åŠ¡çš„ä»Šå¤©ï¼Œäººç±»çš„ç‹¬ç‰¹æ€§åœ¨å“ªé‡Œï¼Ÿæˆ‘è®¤ä¸ºç­”æ¡ˆåœ¨äºæˆ‘ä»¬çš„åˆ›é€ åŠ›ã€æƒ…æ„Ÿå’Œå¯¹ç¾çš„æ„ŸçŸ¥...',
    category: 'technology',
    date: '2024-01-12',
    readTime: 8,
    tags: ['äººå·¥æ™ºèƒ½', 'æœªæ¥', 'äººç±»ä»·å€¼'],
    mood: 'contemplative'
  },
  {
    id: 3,
    title: 'ç®€çº¦è®¾è®¡çš„åŠ›é‡',
    content: 'çœŸæ­£çš„ç®€çº¦ä¸æ˜¯å‡å°‘ï¼Œè€Œæ˜¯å»é™¤ä¸å¿…è¦çš„å…ƒç´ ï¼Œè®©æ ¸å¿ƒä»·å€¼æ›´åŠ çªå‡ºã€‚åœ¨è®¾è®¡ä¸­ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½åº”è¯¥æœ‰å…¶å­˜åœ¨çš„ç†ç”±ï¼Œæ¯ä¸€ä¸ªå†³å®šéƒ½åº”è¯¥æœåŠ¡äºç”¨æˆ·ä½“éªŒ...',
    category: 'design',
    date: '2024-01-10',
    readTime: 4,
    tags: ['è®¾è®¡å“²å­¦', 'ç”¨æˆ·ä½“éªŒ', 'ç®€çº¦ä¸»ä¹‰'],
    mood: 'inspired'
  },
  {
    id: 4,
    title: 'æ—¶é—´çš„ç›¸å¯¹æ€§',
    content: 'åœ¨å¿™ç¢Œçš„å·¥ä½œä¸­ï¼Œæ—¶é—´ä¼¼ä¹è¿‡å¾—é£å¿«ï¼›åœ¨ç­‰å¾…çš„æ—¶å€™ï¼Œæ—¶é—´åˆå˜å¾—æ¼«é•¿ã€‚æ—¶é—´çš„æ„ŸçŸ¥æ˜¯ä¸»è§‚çš„ï¼Œå®ƒä¸æˆ‘ä»¬çš„æ³¨æ„åŠ›å’Œæƒ…ç»ªçŠ¶æ€å¯†åˆ‡ç›¸å…³...',
    category: 'life',
    date: '2024-01-08',
    readTime: 6,
    tags: ['æ—¶é—´ç®¡ç†', 'ç”Ÿæ´»æ„Ÿæ‚Ÿ', 'å¿ƒç†å­¦'],
    mood: 'curious'
  },
  {
    id: 5,
    title: 'æ•°å­—åŒ–ç”Ÿæ´»çš„åæ€',
    content: 'æˆ‘ä»¬ç”Ÿæ´»åœ¨ä¸€ä¸ªé«˜åº¦æ•°å­—åŒ–çš„æ—¶ä»£ï¼Œä½†è¿™æ˜¯å¦è®©æˆ‘ä»¬æ›´åŠ å¿«ä¹ï¼ŸæŠ€æœ¯åº”è¯¥æ˜¯å·¥å…·ï¼Œè€Œä¸æ˜¯ä¸»äººã€‚æˆ‘ä»¬éœ€è¦åœ¨æ•°å­—ä¸–ç•Œå’Œç°å®ä¸–ç•Œä¹‹é—´æ‰¾åˆ°å¹³è¡¡...',
    category: 'future',
    date: '2024-01-05',
    readTime: 7,
    tags: ['æ•°å­—åŒ–', 'ç”Ÿæ´»æ–¹å¼', 'å¹³è¡¡'],
    mood: 'contemplative'
  }
])

// åˆ†ç±»æ˜ å°„
const categoryMap = {
  philosophy: { name: 'å“²å­¦', icon: 'ğŸ¤”', color: 'purple' },
  technology: { name: 'ç§‘æŠ€', icon: 'ğŸ’»', color: 'blue' },
  life: { name: 'ç”Ÿæ´»', icon: 'ğŸŒ±', color: 'green' },
  design: { name: 'è®¾è®¡', icon: 'ğŸ¨', color: 'pink' },
  future: { name: 'æœªæ¥', icon: 'ğŸš€', color: 'orange' }
}

// å¿ƒæƒ…æ˜ å°„
const moodMap = {
  deep: { icon: 'ğŸŒŠ', color: 'indigo' },
  curious: { icon: 'ğŸ”', color: 'yellow' },
  inspired: { icon: 'âœ¨', color: 'purple' },
  contemplative: { icon: 'ğŸ§˜', color: 'teal' }
}
</script>

<template>
  <div class="mind-view">
    <!-- èƒŒæ™¯ç»„ä»¶ -->
    <LinBackground />

    <!-- å¤´éƒ¨åŒºåŸŸ -->
    <header class="header">
      <div class="header-content">
        <h1 class="title">æ€è€ƒç©ºé—´</h1>
        <p class="subtitle">è®°å½•æ€ç»´çš„è½¨è¿¹ï¼Œæ¢ç´¢å†…å¿ƒçš„å£°éŸ³</p>
        <div class="quote">
          <span class="quote-text">"æ€è€ƒæ˜¯äººç±»æœ€é«˜è´µçš„æ´»åŠ¨"</span>
          <span class="quote-author">â€” äºšé‡Œå£«å¤šå¾·</span>
        </div>
      </div>
    </header>

    <!-- æ€è€ƒåˆ—è¡¨ -->
    <main class="thoughts-container">
      <div class="thoughts-timeline">
        <div 
          v-for="(thought, index) in thoughts" 
          :key="thought.id"
          class="thought-item"
          :style="{ '--index': index }"
        >
          <!-- æ—¶é—´çº¿èŠ‚ç‚¹ -->
          <div class="timeline-node">
            <div class="node-dot"></div>
            <div class="node-line"></div>
          </div>

          <!-- æ€è€ƒå¡ç‰‡ -->
          <div class="thought-card">
            <div class="thought-header">
              <div class="thought-meta">
                <div class="category-badge">
                  <span class="category-icon">{{ categoryMap[thought.category].icon }}</span>
                  <span class="category-name">{{ categoryMap[thought.category].name }}</span>
                </div>
                <div class="mood-indicator">
                  <span class="mood-icon">{{ moodMap[thought.mood].icon }}</span>
                </div>
              </div>
              <div class="thought-date">{{ thought.date }}</div>
            </div>

            <h3 class="thought-title">{{ thought.title }}</h3>
            <p class="thought-content">{{ thought.content }}</p>

            <div class="thought-footer">
              <div class="thought-tags">
                <LinTag 
                  v-for="tag in thought.tags" 
                  :key="tag" 
                  :type="categoryMap[thought.category].color"
                  size="small"
                  :circle="true"
                >
                  {{ tag }}
                </LinTag>
              </div>
              <div class="read-time">
                <svg class="clock-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12,6 12,12 16,14"></polyline>
                </svg>
                <span>{{ thought.readTime }} åˆ†é’Ÿé˜…è¯»</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</template>

<style scoped lang="scss">
.mind-view {
  min-height: 100vh;
  position: relative;
  padding: 2rem 1rem;
}

.header {
  text-align: center;
  margin-bottom: 4rem;
  animation: mindHeaderFadeIn 1s ease-out;
}

.header-content {
  max-width: 800px;
  margin: 0 auto;
}

.title {
  font-size: 3.5rem;
  font-weight: 800;
  background: linear-gradient(135deg, rgb(var(--color-primary)), rgb(var(--color-primary-light)));
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 1rem;
  animation: gradient-text 3s ease-in-out infinite;
}

.subtitle {
  font-size: 1.3rem;
  color: rgba(var(--color-text), 0.7);
  margin-bottom: 2rem;
  line-height: 1.6;
}

.quote {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  font-style: italic;
}

.quote-text {
  font-size: 1.1rem;
  color: rgba(var(--color-text), 0.8);
}

.quote-author {
  font-size: 0.9rem;
  color: rgba(var(--color-text), 0.6);
}

.thoughts-container {
  max-width: 900px;
  margin: 0 auto;
}

.thoughts-timeline {
  position: relative;
}

.thought-item {
  display: flex;
  margin-bottom: 3rem;
  animation: thoughtSlideIn 0.8s ease-out;
  animation-delay: calc(var(--index, 0) * 0.2s);
  animation-fill-mode: both;

  &:last-child {
    .node-line {
      display: none;
    }
  }
}

.timeline-node {
  position: relative;
  margin-right: 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.node-dot {
  width: 16px;
  height: 16px;
  background: linear-gradient(135deg, rgb(var(--color-primary)), rgb(var(--color-primary-light)));
  border-radius: 50%;
  border: 3px solid rgba(var(--color-bg), 1);
  box-shadow: 0 0 0 3px rgba(var(--color-primary), 0.2);
  animation: nodePulse 2s ease-in-out infinite;
}

.node-line {
  width: 2px;
  height: 100px;
  background: linear-gradient(to bottom, rgba(var(--color-primary), 0.3), rgba(var(--color-primary), 0.1));
  margin-top: 1rem;
}

.thought-card {
  flex: 1;
  background: rgba(var(--color-bg), 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(var(--color-primary), 0.1);
  border-radius: 20px;
  padding: 2rem;
  transition: all 0.3s ease;
  cursor: pointer;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(var(--color-primary), 0.15);
    border-color: rgba(var(--color-primary), 0.3);
  }
}

.thought-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1.5rem;
}

.thought-meta {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.category-badge {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: rgba(var(--color-primary), 0.1);
  padding: 0.5rem 1rem;
  border-radius: 50px;
  font-size: 0.875rem;
  font-weight: 500;
  color: rgb(var(--color-primary));
}

.category-icon {
  font-size: 1.1rem;
}

.mood-indicator {
  display: flex;
  align-items: center;
}

.mood-icon {
  font-size: 1.5rem;
  animation: moodFloat 3s ease-in-out infinite;
}

.thought-date {
  font-size: 0.875rem;
  color: rgba(var(--color-text), 0.6);
  font-weight: 500;
}

.thought-title {
  font-size: 1.5rem;
  font-weight: 700;
  color: rgb(var(--color-text));
  margin-bottom: 1rem;
  line-height: 1.3;
}

.thought-content {
  color: rgba(var(--color-text), 0.8);
  line-height: 1.7;
  margin-bottom: 1.5rem;
  font-size: 1rem;
}

.thought-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 1rem;
}

.thought-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.read-time {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: rgba(var(--color-text), 0.6);
}

.clock-icon {
  width: 1rem;
  height: 1rem;
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .mind-view {
    padding: 1rem;
  }

  .title {
    font-size: 2.5rem;
  }

  .thought-item {
    flex-direction: column;
  }

  .timeline-node {
    margin-right: 0;
    margin-bottom: 1rem;
    flex-direction: row;
  }

  .node-line {
    width: 50px;
    height: 2px;
    margin-top: 0;
    margin-left: 1rem;
  }

  .thought-card {
    padding: 1.5rem;
  }

  .thought-footer {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }
}
</style>